---
import { Image } from "astro:assets";
import { getI18N } from "@/i18n";
import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";
import {getImgFromLang, excursions} from "@/img/allImages";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });

const imgLang = getImgFromLang(currentLocale)

const lang = getLangFromUrl(Astro.url);

const translatePath = useTranslatedPath(lang);
---

<section class="container mx-auto flex justify-center text-center my-16">
    <div class="w-4/5">
        <h1 class="text-4xl md:text-5xl text-sky-900 font-bold italic mb-10">
            {i18n.HOME_PAGE.INTRO.TITLE}
        </h1>
        <p class="text-zinc-600 text-lg md:text-xl">
            {i18n.HOME_PAGE.INTRO.DESCRIPTION}
        </p>

        <div class="columns-1 md:columns-3 mt-16 space-y-5">
            <Image src={imgLang.paymentMeth} alt={i18n.ACCESSIBILITY.IMG.PAYMENT_METHODS} widths={[240, 500, imgLang.paymentMeth.width]} sizes={`(max-width: 360px) 240px, (max-width: 720px) 500px,  ${imgLang.paymentMeth.width}px`} />
            <Image src={imgLang.serviceAdvan} alt={i18n.ACCESSIBILITY.IMG.ADVANTAGES} widths={[240, 500, imgLang.serviceAdvan.width]} sizes={`(max-width: 360px) 240px, (max-width: 720px) 500px,  ${imgLang.serviceAdvan.width}px`}/>
            <Image src={imgLang.madridBlog} alt={i18n.ACCESSIBILITY.IMG.BLOG} widths={[240, 500, imgLang.madridBlog.width]} sizes={`(max-width: 360px) 240px, (max-width: 720px) 500px,  ${imgLang.madridBlog.width}px`}/>
        </div>
    </div>
</section>

<section class="bg-[url('/assets/backgrounds/madrid-best-tours-background.webp')] bg-no-repeat bg-center bg-cover">
    <div class="container mx-auto px-10">
        <div class="flex flex-col md:flex-row py-8 items-center">
            <div class="text-center md:text-left basis-full md:basis-1/2" data-aos="fade-down" data-aos-delay="300">
                <h2 class="text-4xl md:text-5xl text-white italic">
                    {i18n.HOME_PAGE.TOURS_MADRID.TITLE}
                </h2>
                <p class="text-justify text-white text-lg md:text-xl mt-8 mb-16">
                    {i18n.HOME_PAGE.TOURS_MADRID.DESCRIPTION}
                </p>
                <a
                    class="flex flex-wrap items-center justify-center mx-auto md:mx-0 w-fit text-base sm:text-xl md:text-2xl font-extrabold uppercase rounded-2xl transition duration-300 py-4 px-10 group bg-white text-red-800 hover:bg-amber-400 hover:text-white"
                    href={translatePath('/tours/')}
                >
                    {i18n.HOME_PAGE.TOURS_MADRID.BUTTON} <i class="at-arrow-right ml-3 transition duration-300 group-hover:translate-x-4"></i>
                </a>
            </div>
            <div class="basis-full md:basis-1/2 mt-12 md:mt-auto" data-aos="fade-down" data-aos-delay="300">
                <Image src={excursions} alt={i18n.ACCESSIBILITY.IMG.EXCURSIONS} class="mx-auto px-5" widths={[240, 603, excursions.width]}
                sizes={`(max-width: 360px) 240px, (max-width: 720px) 603px,  ${excursions.width}px`} />
            </div>
        </div>
    </div>
</section>
